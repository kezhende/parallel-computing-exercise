# 题目

![1](imgs/1.png)

# 思路

- 将生产者、消费者和消息队列设为三条进程执行，之间通过socket通信

- 消息队列拥有4条工作线程的线程池，另外再开两条线程与消费者和生产者进行通信

- 生产者生产出数据后将数据发送给消息队列，消息队列将数据放进数据队列后，向生产者发送操作成功的响应

- 当生产者将全部数据发给消息队列后，生产者和消息队列的通信中断

- 消费者向消息队列发送请求，消息队列将数据发给消费者

- 消费者对数据进行运算

- 当数据队列为空后，消费者和消息队列的通行中断